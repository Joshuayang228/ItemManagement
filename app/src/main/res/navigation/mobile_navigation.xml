<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/mobile_navigation"
    app:startDestination="@+id/navigation_home">

    <fragment
        android:id="@+id/navigation_home"
        android:name="com.example.itemmanagement.ui.home.HomeFragment"
        android:label="主页">
        <action
            android:id="@+id/action_navigation_home_to_addItemFragment"
            app:destination="@id/addItemFragment" />
        <action
            android:id="@+id/action_navigation_home_to_newAddItemFragment"
            app:destination="@id/newAddItemFragment" />
        <action
            android:id="@+id/action_navigation_home_to_itemListFragment"
            app:destination="@id/navigation_item_list" />
        <action
            android:id="@+id/action_navigation_home_to_shopping_list"
            app:destination="@id/navigation_shopping_list" />
    </fragment>

    <fragment
        android:id="@+id/navigation_warehouse"
        android:name="com.example.itemmanagement.ui.warehouse.WarehouseFragment"
        android:label="仓库">
        <action
            android:id="@+id/action_navigation_warehouse_to_navigation_item_detail"
            app:destination="@id/navigation_item_detail" />
        <action
            android:id="@+id/action_navigation_warehouse_to_newEditItemFragment"
            app:destination="@id/newEditItemFragment" />
    </fragment>

    <fragment
        android:id="@+id/navigation_function"
        android:name="com.example.itemmanagement.ui.function.FunctionFragment"
        android:label="功能">
        <action
            android:id="@+id/action_function_to_inventory_analysis"
            app:destination="@id/navigation_inventory_analysis" />
        <action
            android:id="@+id/action_function_to_item_calendar"
            app:destination="@id/navigation_item_calendar" />
        <action
            android:id="@+id/action_function_to_shopping_list"
            app:destination="@id/navigation_shopping_list" />
        <action
            android:id="@+id/action_function_to_wishlist"
            app:destination="@id/navigation_item_list">
            <argument
                android:name="listType"
                app:argType="string"
                android:defaultValue="wishlist" />
            <argument
                android:name="title"
                app:argType="string"
                android:defaultValue="心愿单" />
        </action>
        <action
            android:id="@+id/action_function_to_waste_report"
            app:destination="@id/navigation_waste_report" />
    </fragment>

    <fragment
        android:id="@+id/navigation_profile"
        android:name="com.example.itemmanagement.ui.profile.ProfileFragment"
        android:label="我的" />

    <fragment
        android:id="@+id/navigation_inventory_analysis"
        android:name="com.example.itemmanagement.ui.analysis.InventoryAnalysisFragment"
        android:label="库存分析" />

    <fragment
        android:id="@+id/navigation_item_calendar"
        android:name="com.example.itemmanagement.ui.calendar.ItemCalendarFragment"
        android:label="物品日历" />

    <fragment
        android:id="@+id/navigation_shopping_list"
        android:name="com.example.itemmanagement.ui.shopping.ShoppingListFragment"
        android:label="购物清单">
        <action
            android:id="@+id/action_shopping_list_to_add_from_shopping"
            app:destination="@id/navigation_add_from_shopping" />
        <action
            android:id="@+id/action_shopping_list_to_add_shopping_item"
            app:destination="@id/navigation_add_shopping_item" />
    </fragment>

    <!-- 购物清单管理页面 -->
    <fragment
        android:id="@+id/navigation_shopping_list_management"
        android:name="com.example.itemmanagement.ui.shopping.ShoppingListManagementFragment"
        android:label="购物清单管理" />

    <fragment
        android:id="@+id/navigation_waste_report"
        android:name="com.example.itemmanagement.ui.waste.WasteReportFragment"
        android:label="浪费报告" />

    <fragment
        android:id="@+id/navigation_item_list"
        android:name="com.example.itemmanagement.ui.home.ItemListFragment"
        android:label="物品列表">
        <argument
            android:name="listType"
            app:argType="string"
            android:defaultValue="all" />
        <argument
            android:name="title"
            app:argType="string"
            android:defaultValue="物品列表" />
    </fragment>

    <fragment
        android:id="@+id/nav_category"
        android:name="com.example.itemmanagement.ui.category.CategoryFragment"
        android:label="分类管理" />

    <fragment
        android:id="@+id/nav_settings"
        android:name="com.example.itemmanagement.ui.setting.SettingFragment"
        android:label="设置" />

    <fragment
        android:id="@+id/addItemFragment"
        android:name="com.example.itemmanagement.ui.add.AddItemFragment"
        android:label="@string/title_add_item">
        <argument
            android:name="item"
            app:argType="com.example.itemmanagement.data.model.Item"
            app:nullable="true"
            android:defaultValue="@null" />
        <argument
            android:name="mode"
            app:argType="string"
            android:defaultValue="add" />
        <argument
            android:name="itemId"
            app:argType="long"
            android:defaultValue="-1L" />
    </fragment>
    
    <fragment
        android:id="@+id/editItemFragment"
        android:name="com.example.itemmanagement.ui.edit.EditItemFragment"
        android:label="@string/title_edit_item">
        <argument
            android:name="item"
            app:argType="com.example.itemmanagement.data.model.Item"
            app:nullable="true"
            android:defaultValue="@null" />
        <argument
            android:name="mode"
            app:argType="string"
            android:defaultValue="edit" />
        <argument
            android:name="itemId"
            app:argType="long"
            android:defaultValue="-1L" />
    </fragment>
    
    <!-- 新架构的添加Fragment -->
    <fragment
        android:id="@+id/newAddItemFragment"
        android:name="com.example.itemmanagement.ui.add.NewAddItemFragment"
        android:label="@string/title_add_item">
        <argument
            android:name="item"
            app:argType="com.example.itemmanagement.data.model.Item"
            app:nullable="true"
            android:defaultValue="@null" />
        <argument
            android:name="mode"
            app:argType="string"
            android:defaultValue="add" />
        <argument
            android:name="itemId"
            app:argType="long"
            android:defaultValue="-1L" />
    </fragment>
    
    <!-- 新架构的编辑Fragment -->
    <fragment
        android:id="@+id/newEditItemFragment"
        android:name="com.example.itemmanagement.ui.edit.NewEditItemFragment"
        android:label="@string/title_edit_item">
        <argument
            android:name="itemId"
            app:argType="long"
            android:defaultValue="-1L" />
    </fragment>
    
    <fragment
        android:id="@+id/navigation_item_detail"
        android:name="com.example.itemmanagement.ui.detail.ItemDetailFragment"
        android:label="物品详情">
        <argument
            android:name="itemId"
            app:argType="long"
            android:defaultValue="-1L" />
        <action
            android:id="@+id/action_navigation_item_detail_to_editItemFragment"
            app:destination="@id/editItemFragment">
            <argument
                android:name="mode"
                app:argType="string"
                android:defaultValue="edit" />
        </action>
        <action
            android:id="@+id/action_navigation_item_detail_to_newEditItemFragment"
            app:destination="@id/newEditItemFragment" />
    </fragment>

    <!-- 新架构的购物清单入库Fragment -->
    <fragment
        android:id="@+id/navigation_add_from_shopping"
        android:name="com.example.itemmanagement.ui.shopping.NewAddFromShoppingListFragment"
        android:label="物品入库">
        <argument
            android:name="shoppingItem"
            app:argType="com.example.itemmanagement.data.entity.ShoppingItemEntity"
            app:nullable="true" />
    </fragment>
    
    <!-- 旧架构的购物清单入库Fragment (已废弃) -->
    <fragment
        android:id="@+id/old_navigation_add_from_shopping"
        android:name="com.example.itemmanagement.ui.shopping.AddFromShoppingListFragment"
        android:label="物品入库(旧)">
        <argument
            android:name="shoppingItem"
            app:argType="com.example.itemmanagement.data.entity.ShoppingItemEntity"
            app:nullable="true" />
    </fragment>

    <!-- 新架构的购物物品添加Fragment -->
    <fragment
        android:id="@+id/navigation_add_shopping_item"
        android:name="com.example.itemmanagement.ui.shopping.NewAddShoppingItemFragment"
        android:label="添加购物物品">
        <argument
            android:name="listId"
            app:argType="long"
            android:defaultValue="1L" />
        <argument
            android:name="sourceItemId"
            app:argType="long"
            android:defaultValue="-1L" />
    </fragment>
    
    <!-- 旧架构的购物物品添加Fragment (已废弃) -->
    <fragment
        android:id="@+id/old_navigation_add_shopping_item"
        android:name="com.example.itemmanagement.ui.shopping.AddShoppingItemFragment"
        android:label="添加购物物品(旧)">
        <argument
            android:name="listId"
            app:argType="long"
            android:defaultValue="1L" />
        <argument
            android:name="shoppingItem"
            app:argType="com.example.itemmanagement.data.entity.ShoppingItemEntity"
            app:nullable="true"
            android:defaultValue="@null" />
    </fragment>
</navigation> 